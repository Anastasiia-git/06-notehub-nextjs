{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiia/Desktop/projects/react-0.2/06-notehub-nextjs/lib/api.ts"],"sourcesContent":["import axios from 'axios';\nimport type { Note } from '../types/note';\n\nconst BASE_URL = 'https://notehub-public.goit.study/api';\n\nconst NOTEHUB_TOKEN = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN as string | undefined;\n\nconst getToken = () => {\n  const token = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN as string | undefined;\n  if (!token) throw new Error('Missing env variable: NEXT_PUBLIC_NOTEHUB_TOKEN');\n  return token;\n};\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${NOTEHUB_TOKEN}`,\n  },\n});\n\napi.interceptors.request.use((config) => {\n  config.headers.Authorization = `Bearer ${getToken()}`;\n  return config;\n});\n\ninterface FetchNotesParams {\n  search?: string;\n  page?: number;\n  perPage?: number;\n}\n\nexport interface NoteResponse {\n  notes: Note[];\n  totalPages: number;\n}\n\nexport const fetchNotes = async (params: FetchNotesParams): Promise<NoteResponse> => {\n  try {\n    const response = await api.get<NoteResponse>('/notes', {\n      params: {\n        search: params.search,\n        page: params.page ?? 1,\n        perPage: params.perPage ?? 10,\n      },\n    });\n    return response.data;\n  } catch (error: unknown) {\n    if (axios.isAxiosError(error)) {\n      console.log('Axios error:', error.message);\n      console.log('Status:', error.response?.status);\n      console.log('Response:', error.response?.data);\n    }\n    throw error;\n  }\n};\n\nexport const createNote = async (note: Omit<Note, 'id'>): Promise<Note> => {\n  try {\n    const { data } = await api.post<Note>('/notes', note);\n    return data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      console.log(error.response?.data);\n    }\n    throw error;\n  }\n};\n\nexport const deleteNote = async (id: string): Promise<Note> => {\n  const { data } = await api.delete<Note>(`/notes/${id}`);\n  return data;\n};\n\nexport const fetchNoteById = async (id: string): Promise<Note> => {\n  const { data } = await api.get<Note>(`/notes/${id}`);\n  return data;\n};\n"],"names":[],"mappings":";;;;;;;;;;AAKsB;AALtB;;AAGA,MAAM,WAAW;AAEjB,MAAM;AAEN,MAAM,WAAW;IACf,MAAM;IACN;;IACA,OAAO;AACT;AAEA,MAAM,MAAM,wNAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,QAAQ;QACR,eAAe,CAAC,OAAO,EAAE,eAAe;IAC1C;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,YAAY;IACrD,OAAO;AACT;AAaO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,GAAG,CAAe,UAAU;YACrD,QAAQ;gBACN,QAAQ,OAAO,MAAM;gBACrB,MAAM,OAAO,IAAI,IAAI;gBACrB,SAAS,OAAO,OAAO,IAAI;YAC7B;QACF;QACA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAgB;QACvB,IAAI,wNAAK,CAAC,YAAY,CAAC,QAAQ;YAC7B,QAAQ,GAAG,CAAC,gBAAgB,MAAM,OAAO;YACzC,QAAQ,GAAG,CAAC,WAAW,MAAM,QAAQ,EAAE;YACvC,QAAQ,GAAG,CAAC,aAAa,MAAM,QAAQ,EAAE;QAC3C;QACA,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI,CAAO,UAAU;QAChD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,IAAI,wNAAK,CAAC,YAAY,CAAC,QAAQ;YAC7B,QAAQ,GAAG,CAAC,MAAM,QAAQ,EAAE;QAC9B;QACA,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,MAAM,CAAO,CAAC,OAAO,EAAE,IAAI;IACtD,OAAO;AACT;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI;IACnD,OAAO;AACT"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/[id]/NoteDetails.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"NoteDetails-module___fdT0q__container\",\n  \"content\": \"NoteDetails-module___fdT0q__content\",\n  \"date\": \"NoteDetails-module___fdT0q__date\",\n  \"header\": \"NoteDetails-module___fdT0q__header\",\n  \"item\": \"NoteDetails-module___fdT0q__item\",\n  \"main\": \"NoteDetails-module___fdT0q__main\",\n  \"tag\": \"NoteDetails-module___fdT0q__tag\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiia/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/%5Bid%5D/NoteDetails.client.tsx"],"sourcesContent":["'use client';\n\nimport { useParams } from 'next/navigation';\nimport { useQuery } from '@tanstack/react-query';\nimport { fetchNoteById } from '@/lib/api';\nimport type { Note } from '@/types/note';\nimport css from './NoteDetails.module.css';\n\nexport default function NoteDetailsClient() {\n  const { id } = useParams<{ id: string }>();\n\n  const {\n    data: note,\n    isLoading,\n    error,\n  } = useQuery<Note>({\n    queryKey: ['note', id],\n    queryFn: () => fetchNoteById(id),\n  });\n\n  if (isLoading) return <p>Loading, please wait...</p>;\n  if (error || !note) return <p>Something went wrong.</p>;\n\n  return (\n    <main className={css.main}>\n      <div className={css.container}>\n        <div className={css.item}>\n          <div className={css.header}>\n            <h2>Note title</h2>\n          </div>\n          <p className={css.tag}>{note.tag}</p>\n          <p className={css.content}>Note content</p>\n          <p className={css.date}>Created date</p>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":["c","_c","useParams","useQuery","fetchNoteById","Note","css","NoteDetailsClient","$","$i","Symbol","for","id","t0","queryKey","queryFn","data","note","isLoading","error","t1","header","t2","tag","t3","t4","content","date","t5","main","container","item"],"mappings":"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","ignoreList":[]}}]
}