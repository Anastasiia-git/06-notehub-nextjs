{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiia/Desktop/projects/react-0.2/06-notehub-nextjs/lib/api.ts"],"sourcesContent":["import axios from 'axios';\nimport type { Note, CreateNoteDto } from '../types/note';\n\nconst BASE_URL = 'https://notehub-public.goit.study/api';\n\nconst NOTEHUB_TOKEN = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN as string | undefined;\n\nconst getToken = () => {\n  const token = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN as string | undefined;\n  if (!token) throw new Error('Missing env variable: NEXT_PUBLIC_NOTEHUB_TOKEN');\n  return token;\n};\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${NOTEHUB_TOKEN}`,\n  },\n});\n\napi.interceptors.request.use((config) => {\n  config.headers.Authorization = `Bearer ${getToken()}`;\n  return config;\n});\n\ninterface FetchNotesParams {\n  search?: string;\n  page?: number;\n  perPage?: number;\n}\n\nexport interface NoteResponse {\n  notes: Note[];\n  totalPages: number;\n}\n\nexport const fetchNotes = async (params: FetchNotesParams): Promise<NoteResponse> => {\n  try {\n    const response = await api.get<NoteResponse>('/notes', {\n      params: {\n        search: params.search,\n        page: params.page ?? 1,\n        perPage: params.perPage ?? 10,\n      },\n    });\n    return response.data;\n  } catch (error: unknown) {\n    if (axios.isAxiosError(error)) {\n      console.log('Axios error:', error.message);\n      console.log('Status:', error.response?.status);\n      console.log('Response:', error.response?.data);\n    }\n    throw error;\n  }\n};\n\nexport const createNote = async (note: CreateNoteDto): Promise<Note> => {\n  const { data } = await api.post<Note>('/notes', note);\n  return data;\n};\n\nexport const deleteNote = async (id: string): Promise<Note> => {\n  const { data } = await api.delete<Note>(`/notes/${id}`);\n  return data;\n};\n\nexport const fetchNoteById = async (id: string): Promise<Note> => {\n  const { data } = await api.get<Note>(`/notes/${id}`);\n  return data;\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGA,MAAM,WAAW;AAEjB,MAAM;AAEN,MAAM,WAAW;IACf,MAAM;IACN;;IACA,OAAO;AACT;AAEA,MAAM,MAAM,qNAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,QAAQ;QACR,eAAe,CAAC,OAAO,EAAE,eAAe;IAC1C;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,YAAY;IACrD,OAAO;AACT;AAaO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,GAAG,CAAe,UAAU;YACrD,QAAQ;gBACN,QAAQ,OAAO,MAAM;gBACrB,MAAM,OAAO,IAAI,IAAI;gBACrB,SAAS,OAAO,OAAO,IAAI;YAC7B;QACF;QACA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAgB;QACvB,IAAI,qNAAK,CAAC,YAAY,CAAC,QAAQ;YAC7B,QAAQ,GAAG,CAAC,gBAAgB,MAAM,OAAO;YACzC,QAAQ,GAAG,CAAC,WAAW,MAAM,QAAQ,EAAE;YACvC,QAAQ,GAAG,CAAC,aAAa,MAAM,QAAQ,EAAE;QAC3C;QACA,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI,CAAO,UAAU;IAChD,OAAO;AACT;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,MAAM,CAAO,CAAC,OAAO,EAAE,IAAI;IACtD,OAAO;AACT;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI;IACnD,OAAO;AACT"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/[id]/NoteDetails.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"NoteDetails-module___fdT0q__container\",\n  \"content\": \"NoteDetails-module___fdT0q__content\",\n  \"date\": \"NoteDetails-module___fdT0q__date\",\n  \"header\": \"NoteDetails-module___fdT0q__header\",\n  \"item\": \"NoteDetails-module___fdT0q__item\",\n  \"main\": \"NoteDetails-module___fdT0q__main\",\n  \"tag\": \"NoteDetails-module___fdT0q__tag\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiia/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/%5Bid%5D/NoteDetails.client.tsx"],"sourcesContent":["'use client';\n\nimport { useParams } from 'next/navigation';\nimport { useQuery } from '@tanstack/react-query';\nimport { fetchNoteById } from '@/lib/api';\nimport type { Note } from '@/types/note';\nimport css from './NoteDetails.module.css';\n\nexport default function NoteDetailsClient() {\n  const { id } = useParams<{ id: string }>();\n\n  const {\n    data: note,\n    isLoading,\n    error,\n  } = useQuery<Note>({\n    queryKey: ['note', id],\n    queryFn: () => fetchNoteById(id),\n  });\n\n  if (isLoading) return <p>Loading, please wait...</p>;\n  if (error || !note) return <p>Something went wrong.</p>;\n\n  return (\n    <main className={css.main}>\n      <div className={css.container}>\n        <div className={css.item}>\n          <div className={css.header}>\n            <h2>Note title</h2>\n          </div>\n          <p className={css.tag}>{note.tag}</p>\n          <p className={css.content}>Note content</p>\n          <p className={css.date}>Created date</p>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,IAAA,oNAAS;IAExB,MAAM,EACJ,MAAM,IAAI,EACV,SAAS,EACT,KAAK,EACN,GAAG,IAAA,4PAAQ,EAAO;QACjB,UAAU;YAAC;YAAQ;SAAG;QACtB,SAAS,IAAM,IAAA,gMAAa,EAAC;IAC/B;IAEA,IAAI,WAAW,qBAAO,mTAAC;kBAAE;;;;;;IACzB,IAAI,SAAS,CAAC,MAAM,qBAAO,mTAAC;kBAAE;;;;;;IAE9B,qBACE,mTAAC;QAAK,WAAW,iOAAG,CAAC,IAAI;kBACvB,cAAA,mTAAC;YAAI,WAAW,iOAAG,CAAC,SAAS;sBAC3B,cAAA,mTAAC;gBAAI,WAAW,iOAAG,CAAC,IAAI;;kCACtB,mTAAC;wBAAI,WAAW,iOAAG,CAAC,MAAM;kCACxB,cAAA,mTAAC;sCAAG;;;;;;;;;;;kCAEN,mTAAC;wBAAE,WAAW,iOAAG,CAAC,GAAG;kCAAG,KAAK,GAAG;;;;;;kCAChC,mTAAC;wBAAE,WAAW,iOAAG,CAAC,OAAO;kCAAE;;;;;;kCAC3B,mTAAC;wBAAE,WAAW,iOAAG,CAAC,IAAI;kCAAE;;;;;;;;;;;;;;;;;;;;;;AAKlC"}}]
}