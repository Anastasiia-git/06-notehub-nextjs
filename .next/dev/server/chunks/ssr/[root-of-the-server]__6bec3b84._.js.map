{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiia/Desktop/projects/react-0.2/06-notehub-nextjs/lib/api.ts"],"sourcesContent":["import axios from 'axios';\nimport type { Note } from '../types/note';\n\nconst BASE_URL = 'https://notehub-public.goit.study/api';\n\nconst NOTEHUB_TOKEN = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN as string | undefined;\n\nconst getToken = () => {\n  const token = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN as string | undefined;\n  if (!token) throw new Error('Missing env variable: NEXT_PUBLIC_NOTEHUB_TOKEN');\n  return token;\n};\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    accept: 'application/json',\n    Authorization: `Bearer ${NOTEHUB_TOKEN}`,\n  },\n});\n\napi.interceptors.request.use((config) => {\n  config.headers.Authorization = `Bearer ${getToken()}`;\n  return config;\n});\n\ninterface FetchNotesParams {\n  search?: string;\n  page?: number;\n  perPage?: number;\n}\n\nexport interface NoteResponse {\n  notes: Note[];\n  totalPages: number;\n}\n\nexport const fetchNotes = async (params: FetchNotesParams): Promise<NoteResponse> => {\n  try {\n    const response = await api.get<NoteResponse>('/notes', {\n      params: {\n        search: params.search,\n        page: params.page ?? 1,\n        perPage: params.perPage ?? 10,\n      },\n    });\n    return response.data;\n  } catch (error: unknown) {\n    if (axios.isAxiosError(error)) {\n      console.log('Axios error:', error.message);\n      console.log('Status:', error.response?.status);\n      console.log('Response:', error.response?.data);\n    }\n    throw error;\n  }\n};\n\nexport const createNote = async (note: Omit<Note, 'id'>): Promise<Note> => {\n  try {\n    const { data } = await api.post<Note>('/notes', note);\n    return data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      console.log(error.response?.data);\n    }\n    throw error;\n  }\n};\n\nexport const deleteNote = async (id: string): Promise<Note> => {\n  const { data } = await api.delete<Note>(`/notes/${id}`);\n  return data;\n};\n\nexport const fetchNoteById = async (id: string): Promise<Note> => {\n  const { data } = await api.get<Note>(`/notes/${id}`);\n  return data;\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAGA,MAAM,WAAW;AAEjB,MAAM;AAEN,MAAM,WAAW;IACf,MAAM;IACN;;IACA,OAAO;AACT;AAEA,MAAM,MAAM,qNAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,QAAQ;QACR,eAAe,CAAC,OAAO,EAAE,eAAe;IAC1C;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,YAAY;IACrD,OAAO;AACT;AAaO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,GAAG,CAAe,UAAU;YACrD,QAAQ;gBACN,QAAQ,OAAO,MAAM;gBACrB,MAAM,OAAO,IAAI,IAAI;gBACrB,SAAS,OAAO,OAAO,IAAI;YAC7B;QACF;QACA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAgB;QACvB,IAAI,qNAAK,CAAC,YAAY,CAAC,QAAQ;YAC7B,QAAQ,GAAG,CAAC,gBAAgB,MAAM,OAAO;YACzC,QAAQ,GAAG,CAAC,WAAW,MAAM,QAAQ,EAAE;YACvC,QAAQ,GAAG,CAAC,aAAa,MAAM,QAAQ,EAAE;QAC3C;QACA,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,IAAI,CAAO,UAAU;QAChD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,IAAI,qNAAK,CAAC,YAAY,CAAC,QAAQ;YAC7B,QAAQ,GAAG,CAAC,MAAM,QAAQ,EAAE;QAC9B;QACA,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,MAAM,CAAO,CAAC,OAAO,EAAE,IAAI;IACtD,OAAO;AACT;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI;IACnD,OAAO;AACT"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiia/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/%5Bid%5D/NoteDetails.client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/[id]/NoteDetails.client.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/[id]/NoteDetails.client.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,6UAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsV,GACnX,oHACA","ignoreList":[0]}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiia/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/%5Bid%5D/NoteDetails.client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/[id]/NoteDetails.client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/[id]/NoteDetails.client.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,6UAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkU,GAC/V,gGACA","ignoreList":[0]}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///Users/anastasiia/Desktop/projects/react-0.2/06-notehub-nextjs/app/notes/%5Bid%5D/page.tsx"],"sourcesContent":["import { QueryClient, HydrationBoundary, dehydrate } from '@tanstack/react-query';\nimport { fetchNoteById } from '@/lib/api';\nimport NoteDetailsClient from './NoteDetails.client';\n\ntype Props = {\n  params: { id: string };\n};\n\nconst NoteDetails = async ({ params }: Props) => {\n  const { id } = params;\n  const queryClient = new QueryClient();\n\n  await queryClient.prefetchQuery({\n    queryKey: ['note', id],\n    queryFn: () => fetchNoteById(id),\n  });\n\n  return (\n    <HydrationBoundary state={dehydrate(queryClient)}>\n      <NoteDetailsClient />\n    </HydrationBoundary>\n  );\n};\n\nexport default NoteDetails;\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AACA;AACA;;;;;AAMA,MAAM,cAAc,OAAO,EAAE,MAAM,EAAS;IAC1C,MAAM,EAAE,EAAE,EAAE,GAAG;IACf,MAAM,cAAc,IAAI,iQAAW;IAEnC,MAAM,YAAY,aAAa,CAAC;QAC9B,UAAU;YAAC;YAAQ;SAAG;QACtB,SAAS,IAAM,IAAA,gMAAa,EAAC;IAC/B;IAEA,qBACE,mTAAC,8QAAiB;QAAC,OAAO,IAAA,6PAAS,EAAC;kBAClC,cAAA,mTAAC,gOAAiB;;;;;;;;;;AAGxB;uCAEe"}}]
}